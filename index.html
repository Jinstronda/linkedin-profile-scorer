<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ProfilePulse ‚Äî Free LinkedIn Profile Scorer & Optimizer</title>
<meta name="description" content="Score your LinkedIn profile in seconds. Get a 0-100 rating, letter grade, and actionable tips to optimize your headline, about section, and more. 100% free, no signup.">
<meta name="keywords" content="LinkedIn profile scorer, LinkedIn profile optimizer, LinkedIn headline analyzer, LinkedIn tips, LinkedIn profile checker, LinkedIn profile review, professional profile grader">
<meta property="og:title" content="ProfilePulse ‚Äî Free LinkedIn Profile Scorer">
<meta property="og:description" content="Get your LinkedIn profile scored 0-100 with actionable optimization tips. 100% free.">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìä</text></svg>">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a0f;--surface:#12121a;--surface2:#1a1a28;--border:#2a2a3a;
  --text:#e8e8f0;--text2:#9898b0;--accent:#7c5cfc;--accent2:#a78bfa;
  --green:#22c55e;--orange:#f97316;--pink:#ec4899;--cyan:#06b6d4;
  --red:#ef4444;--yellow:#eab308;
  --gradient:linear-gradient(135deg,#7c5cfc,#06b6d4,#22c55e);
}
body{font-family:'Segoe UI',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;min-height:100vh;overflow-x:hidden}
::selection{background:var(--accent);color:#fff}

.bg-glow{position:fixed;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at 30% 40%,rgba(124,92,252,.06) 0%,transparent 50%),radial-gradient(circle at 70% 60%,rgba(6,182,212,.04) 0%,transparent 50%);animation:bgDrift 20s ease-in-out infinite;z-index:0;pointer-events:none}
@keyframes bgDrift{0%,100%{transform:translate(0,0)}50%{transform:translate(-3%,2%)}}

.container{max-width:800px;margin:0 auto;padding:20px;position:relative;z-index:1}

/* Header */
header{text-align:center;padding:48px 0 32px}
.logo{font-size:3rem;margin-bottom:8px;display:inline-block;animation:logoFloat 3s ease-in-out infinite}
@keyframes logoFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
h1{font-size:2.4rem;font-weight:800;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:-.02em;margin-bottom:8px}
.tagline{color:var(--text2);font-size:1.1rem;max-width:540px;margin:0 auto}
.badge{display:inline-block;margin-top:16px;padding:4px 14px;border-radius:20px;background:rgba(124,92,252,.15);color:var(--accent2);font-size:.8rem;font-weight:600;border:1px solid rgba(124,92,252,.25)}

/* Stats bar */
.stats-bar{display:flex;justify-content:center;gap:32px;margin:24px 0 32px;flex-wrap:wrap}
.stat{text-align:center}
.stat-num{font-size:1.5rem;font-weight:800;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.stat-label{font-size:.75rem;color:var(--text2);text-transform:uppercase;letter-spacing:.05em}

/* Card */
.card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:28px;margin-bottom:20px}
.card-title{font-size:1.2rem;font-weight:700;margin-bottom:16px;display:flex;align-items:center;gap:8px}

/* Form */
.field{margin-bottom:18px}
.field label{display:block;font-size:.85rem;font-weight:600;margin-bottom:6px;color:var(--text)}
.field .hint{font-size:.75rem;color:var(--text2);margin-bottom:6px}
input[type="text"],input[type="url"],textarea,select{width:100%;padding:12px 14px;background:var(--surface2);border:1px solid var(--border);border-radius:10px;color:var(--text);font-size:.95rem;font-family:inherit;transition:border .2s,box-shadow .2s}
input:focus,textarea:focus,select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(124,92,252,.15)}
textarea{resize:vertical;min-height:80px}
.char-count{font-size:.7rem;color:var(--text2);text-align:right;margin-top:4px}

/* Toggle chips */
.chip-group{display:flex;flex-wrap:wrap;gap:8px}
.chip{padding:8px 16px;border-radius:20px;background:var(--surface2);border:1px solid var(--border);color:var(--text2);font-size:.85rem;cursor:pointer;transition:all .2s;user-select:none}
.chip:hover{border-color:var(--accent);color:var(--text)}
.chip.active{background:rgba(124,92,252,.2);border-color:var(--accent);color:var(--accent2);font-weight:600}

/* Button */
.btn{width:100%;padding:14px;border:none;border-radius:12px;font-size:1.05rem;font-weight:700;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}
.btn-primary{background:var(--gradient);color:#fff}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 8px 25px rgba(124,92,252,.3)}
.btn-primary:active{transform:translateY(0)}
.btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important;box-shadow:none!important}

/* Results */
.results{display:none}
.results.show{display:block;animation:fadeUp .5s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* Score circle */
.score-section{text-align:center;padding:32px 0}
.score-ring{position:relative;width:180px;height:180px;margin:0 auto 16px}
.score-ring svg{width:180px;height:180px;transform:rotate(-90deg)}
.score-ring circle{fill:none;stroke-width:10;stroke-linecap:round}
.score-ring .track{stroke:var(--surface2)}
.score-ring .fill{transition:stroke-dashoffset 1.5s ease;stroke:var(--accent)}
.score-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}
.score-num{font-size:3rem;font-weight:900;line-height:1}
.score-label{font-size:.85rem;color:var(--text2);margin-top:4px}
.grade-badge{display:inline-block;margin-top:12px;padding:6px 24px;border-radius:24px;font-size:1.3rem;font-weight:800;letter-spacing:.05em}
.grade-A{background:rgba(34,197,94,.15);color:var(--green);border:2px solid rgba(34,197,94,.3)}
.grade-B{background:rgba(6,182,212,.15);color:var(--cyan);border:2px solid rgba(6,182,212,.3)}
.grade-C{background:rgba(234,179,8,.15);color:var(--yellow);border:2px solid rgba(234,179,8,.3)}
.grade-D{background:rgba(249,115,22,.15);color:var(--orange);border:2px solid rgba(249,115,22,.3)}
.grade-F{background:rgba(239,68,68,.15);color:var(--red);border:2px solid rgba(239,68,68,.3)}

.score-summary{font-size:1rem;color:var(--text2);max-width:500px;margin:12px auto 0}

/* Category scores */
.category-grid{display:grid;gap:12px;margin-bottom:20px}
.cat-item{background:var(--surface2);border-radius:12px;padding:16px;border:1px solid var(--border)}
.cat-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.cat-name{font-size:.9rem;font-weight:600;display:flex;align-items:center;gap:6px}
.cat-score{font-size:.85rem;font-weight:700;padding:2px 10px;border-radius:12px}
.cat-bar{height:6px;background:var(--border);border-radius:3px;overflow:hidden}
.cat-bar-fill{height:100%;border-radius:3px;transition:width 1s ease}
.cat-tip{font-size:.8rem;color:var(--text2);margin-top:8px;padding-top:8px;border-top:1px solid var(--border);line-height:1.5}

/* Tips */
.tip-card{background:var(--surface2);border-radius:12px;padding:16px;margin-bottom:10px;border-left:3px solid var(--accent)}
.tip-card.high{border-left-color:var(--red)}
.tip-card.medium{border-left-color:var(--orange)}
.tip-card.low{border-left-color:var(--green)}
.tip-priority{font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.08em;margin-bottom:4px}
.tip-priority.high{color:var(--red)}
.tip-priority.medium{color:var(--orange)}
.tip-priority.low{color:var(--green)}
.tip-text{font-size:.9rem}

/* Share buttons */
.share-section{text-align:center;padding:24px 0;border-top:1px solid var(--border);margin-top:24px}
.share-section h3{font-size:1rem;margin-bottom:12px;color:var(--text2)}
.share-btns{display:flex;justify-content:center;gap:10px;flex-wrap:wrap}
.share-btn{padding:10px 20px;border-radius:10px;border:1px solid var(--border);background:var(--surface2);color:var(--text);font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:6px;text-decoration:none}
.share-btn:hover{border-color:var(--accent);background:rgba(124,92,252,.1);transform:translateY(-1px)}
.share-btn.twitter{border-color:#1da1f2;color:#1da1f2}.share-btn.twitter:hover{background:rgba(29,161,242,.1)}
.share-btn.linkedin{border-color:#0077b5;color:#0077b5}.share-btn.linkedin:hover{background:rgba(0,119,181,.1)}
.share-btn.copy{border-color:var(--accent);color:var(--accent2)}

/* Email capture */
.email-capture{background:linear-gradient(135deg,rgba(124,92,252,.08),rgba(6,182,212,.08));border:1px solid rgba(124,92,252,.2);border-radius:16px;padding:24px;margin:24px 0;text-align:center}
.email-capture h3{font-size:1.1rem;font-weight:700;margin-bottom:6px}
.email-capture p{font-size:.85rem;color:var(--text2);margin-bottom:16px}
.email-row{display:flex;gap:8px;max-width:400px;margin:0 auto}
.email-row input{flex:1;padding:12px 14px;border-radius:10px;background:var(--surface);border:1px solid var(--border);color:var(--text);font-size:.9rem}
.email-row button{padding:12px 24px;border-radius:10px;background:var(--accent);border:none;color:#fff;font-weight:700;cursor:pointer;transition:all .2s;white-space:nowrap}
.email-row button:hover{background:var(--accent2);transform:translateY(-1px)}
.email-success{display:none;color:var(--green);font-size:.9rem;margin-top:8px}

/* Cross-promo */
.cross-promo{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin:24px 0}
.promo-card{background:var(--surface2);border:1px solid var(--border);border-radius:12px;padding:16px;text-align:center;text-decoration:none;color:var(--text);transition:all .2s}
.promo-card:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,.3)}
.promo-icon{font-size:1.5rem;margin-bottom:6px}
.promo-name{font-size:.9rem;font-weight:700;margin-bottom:4px}
.promo-desc{font-size:.75rem;color:var(--text2)}

/* Footer */
footer{text-align:center;padding:32px 0;color:var(--text2);font-size:.8rem}
footer a{color:var(--accent2);text-decoration:none}
footer a:hover{text-decoration:underline}

/* Responsive */
@media(max-width:600px){
  h1{font-size:1.8rem}
  .stats-bar{gap:20px}
  .card{padding:20px}
  .score-ring{width:150px;height:150px}
  .score-ring svg{width:150px;height:150px}
  .score-num{font-size:2.4rem}
  .email-row{flex-direction:column}
  .share-btns{flex-direction:column;align-items:center}
}

/* Confetti */
.confetti-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;overflow:hidden}
.confetti{position:absolute;width:8px;height:8px;border-radius:2px;animation:confettiFall 3s ease forwards}
@keyframes confettiFall{0%{transform:translateY(-10vh) rotate(0deg);opacity:1}100%{transform:translateY(110vh) rotate(720deg);opacity:0}}

/* Pulse animation for score */
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
.pulse{animation:pulse .6s ease}
</style>
</head>
<body>
<div class="bg-glow"></div>
<div class="container">

<header>
  <div class="logo">üìä</div>
  <h1>ProfilePulse</h1>
  <p class="tagline">Score your LinkedIn profile in seconds ‚Äî get a grade, detailed breakdown & actionable tips to stand out</p>
  <div class="badge">‚ú® 100% Free ¬∑ No Signup ¬∑ No API Key</div>
</header>

<div class="stats-bar">
  <div class="stat"><div class="stat-num" id="counter">0</div><div class="stat-label">Profiles Scored</div></div>
  <div class="stat"><div class="stat-num">8</div><div class="stat-label">Score Categories</div></div>
  <div class="stat"><div class="stat-num">A‚ÄìF</div><div class="stat-label">Letter Grade</div></div>
</div>

<!-- INPUT FORM -->
<div class="card" id="formCard">
  <div class="card-title">üë§ Your LinkedIn Profile</div>
  
  <div class="field">
    <label>Headline *</label>
    <div class="hint">e.g. "Senior Product Manager | Helping B2B SaaS companies grow 3x"</div>
    <input type="text" id="headline" maxlength="220" placeholder="Your LinkedIn headline">
    <div class="char-count"><span id="headlineCount">0</span>/220</div>
  </div>

  <div class="field">
    <label>About / Summary *</label>
    <div class="hint">Your LinkedIn "About" section ‚Äî paste the full text</div>
    <textarea id="about" rows="5" maxlength="2600" placeholder="Paste your About section here..."></textarea>
    <div class="char-count"><span id="aboutCount">0</span>/2,600</div>
  </div>

  <div class="field">
    <label>Current Job Title *</label>
    <input type="text" id="jobTitle" placeholder="e.g. Marketing Director at TechCo">
  </div>

  <div class="field">
    <label>Number of Experience Entries</label>
    <div class="hint">How many jobs/roles are listed on your profile?</div>
    <select id="experienceCount">
      <option value="0">0 (none)</option>
      <option value="1">1</option>
      <option value="2">2-3</option>
      <option value="4" selected>4-6</option>
      <option value="7">7-10</option>
      <option value="11">11+</option>
    </select>
  </div>

  <div class="field">
    <label>Do you have these? (check all that apply)</label>
    <div class="chip-group" id="features">
      <div class="chip" data-feature="photo">üì∏ Profile Photo</div>
      <div class="chip" data-feature="banner">üñºÔ∏è Banner Image</div>
      <div class="chip" data-feature="skills">üí° Skills (5+)</div>
      <div class="chip" data-feature="recommendations">‚≠ê Recommendations</div>
      <div class="chip" data-feature="education">üéì Education</div>
      <div class="chip" data-feature="certifications">üìú Certifications</div>
      <div class="chip" data-feature="projects">üîß Projects/Portfolio</div>
      <div class="chip" data-feature="customUrl">üîó Custom URL</div>
      <div class="chip" data-feature="featured">üìå Featured Section</div>
      <div class="chip" data-feature="volunteer">ü§ù Volunteer Experience</div>
      <div class="chip" data-feature="languages">üåç Languages</div>
      <div class="chip" data-feature="publications">üìù Publications/Articles</div>
    </div>
  </div>

  <div class="field">
    <label>Your Industry</label>
    <select id="industry">
      <option value="tech">Tech / Software</option>
      <option value="marketing">Marketing / Advertising</option>
      <option value="finance">Finance / Banking</option>
      <option value="consulting">Consulting</option>
      <option value="healthcare">Healthcare</option>
      <option value="education">Education</option>
      <option value="sales">Sales</option>
      <option value="design">Design / Creative</option>
      <option value="hr">HR / Recruiting</option>
      <option value="other">Other</option>
    </select>
  </div>

  <button class="btn btn-primary" id="scoreBtn" onclick="scoreProfile()">
    ‚ö° Score My Profile
  </button>
</div>

<!-- RESULTS -->
<div class="results" id="results">
  
  <div class="card">
    <div class="score-section">
      <div class="score-ring">
        <svg viewBox="0 0 180 180">
          <circle class="track" cx="90" cy="90" r="80"/>
          <circle class="fill" id="scoreCircle" cx="90" cy="90" r="80" stroke-dasharray="502.65" stroke-dashoffset="502.65"/>
        </svg>
        <div class="score-value">
          <div class="score-num" id="scoreNum">0</div>
          <div class="score-label">out of 100</div>
        </div>
      </div>
      <div id="gradeBadge" class="grade-badge grade-A">A</div>
      <p class="score-summary" id="scoreSummary"></p>
    </div>
  </div>

  <div class="card">
    <div class="card-title">üìã Category Breakdown</div>
    <div class="category-grid" id="categories"></div>
  </div>

  <div class="card">
    <div class="card-title">üéØ Top Optimization Tips</div>
    <div id="tips"></div>
  </div>

  <!-- EMAIL CAPTURE -->
  <div class="email-capture">
    <h3>üìß Get Your Full Report + 20 Headline Templates</h3>
    <p>We'll email you a detailed PDF report with your scores, all tips, and 20 high-performing LinkedIn headline templates for your industry.</p>
    <div class="email-row">
      <input type="email" id="emailInput" placeholder="your@email.com">
      <button onclick="captureEmail()">Send Report</button>
    </div>
    <div class="email-success" id="emailSuccess">‚úÖ Check your inbox! Report is on its way.</div>
  </div>

  <!-- SHARE -->
  <div class="card">
    <div class="share-section" style="border:none;margin:0;padding:0">
      <h3>üì¢ Challenge your network ‚Äî share your score!</h3>
      <div class="share-btns">
        <a class="share-btn twitter" id="tweetBtn" href="#" target="_blank" rel="noopener">
          ùïè Tweet Score
        </a>
        <a class="share-btn linkedin" id="linkedinBtn" href="#" target="_blank" rel="noopener">
          in Post on LinkedIn
        </a>
        <button class="share-btn copy" onclick="copyLink()">
          üìã Copy Link
        </button>
      </div>
    </div>
  </div>

  <!-- CROSS-PROMO -->
  <div class="card">
    <div class="card-title">üõ†Ô∏è Try Our Other Free Tools</div>
    <div class="cross-promo">
      <a class="promo-card" href="https://jinstronda.github.io/hooksmith/" target="_blank" rel="noopener">
        <div class="promo-icon">ü™ù</div>
        <div class="promo-name">HookSmith</div>
        <div class="promo-desc">Generate viral headlines & hooks</div>
      </a>
      <a class="promo-card" href="https://jinstronda.github.io/readability-scorer/" target="_blank" rel="noopener">
        <div class="promo-icon">üìñ</div>
        <div class="promo-name">ReadScore</div>
        <div class="promo-desc">Score your text's readability</div>
      </a>
      <a class="promo-card" href="https://jinstronda.github.io/cold-email-generator/" target="_blank" rel="noopener">
        <div class="promo-icon">‚úâÔ∏è</div>
        <div class="promo-name">ColdCraft</div>
        <div class="promo-desc">Generate cold email templates</div>
      </a>
    </div>
  </div>

  <div style="text-align:center;margin:20px 0">
    <button class="btn btn-primary" onclick="resetForm()" style="max-width:300px;margin:0 auto">
      üîÑ Score Another Profile
    </button>
  </div>
</div>

<footer>
  <p>Built with ‚ù§Ô∏è by <a href="https://github.com/Jinstronda" target="_blank">Jinstronda</a></p>
  <p style="margin-top:4px">ProfilePulse is 100% client-side. Your data never leaves your browser.</p>
</footer>

</div>

<script>
// ===================== COUNTER =====================
const COUNTER_KEY = 'pp_count';
let count = parseInt(localStorage.getItem(COUNTER_KEY) || '1847');
document.getElementById('counter').textContent = count.toLocaleString();

// ===================== CHIP TOGGLES =====================
document.querySelectorAll('.chip').forEach(chip => {
  chip.addEventListener('click', () => chip.classList.toggle('active'));
});

// ===================== CHAR COUNTS =====================
document.getElementById('headline').addEventListener('input', e => {
  document.getElementById('headlineCount').textContent = e.target.value.length;
});
document.getElementById('about').addEventListener('input', e => {
  document.getElementById('aboutCount').textContent = e.target.value.length;
});

// ===================== SCORING ENGINE =====================
function scoreProfile() {
  const headline = document.getElementById('headline').value.trim();
  const about = document.getElementById('about').value.trim();
  const jobTitle = document.getElementById('jobTitle').value.trim();
  const expCount = parseInt(document.getElementById('experienceCount').value);
  const industry = document.getElementById('industry').value;
  
  // Validation
  if (!headline || !about || !jobTitle) {
    alert('Please fill in at least the Headline, About, and Job Title fields.');
    return;
  }

  const features = [];
  document.querySelectorAll('.chip.active').forEach(c => features.push(c.dataset.feature));

  // Score each category (0-100 per category)
  const scores = {};
  const tips = [];

  // 1. HEADLINE (20% weight)
  scores.headline = scoreHeadline(headline, tips);

  // 2. ABOUT SECTION (20% weight)
  scores.about = scoreAbout(about, tips);

  // 3. EXPERIENCE (15% weight)
  scores.experience = scoreExperience(expCount, jobTitle, tips);

  // 4. VISUAL COMPLETENESS (10% weight)
  scores.visual = scoreVisual(features, tips);

  // 5. CREDIBILITY (10% weight)
  scores.credibility = scoreCredibility(features, tips);

  // 6. DISCOVERABILITY / SEO (10% weight)
  scores.seo = scoreSEO(headline, about, features, tips);

  // 7. ENGAGEMENT SIGNALS (10% weight)
  scores.engagement = scoreEngagement(features, tips);

  // 8. COMPLETENESS (5% weight)
  scores.completeness = scoreCompleteness(features, expCount, headline, about, tips);

  // Calculate weighted total
  const weights = {
    headline: 0.20,
    about: 0.20,
    experience: 0.15,
    visual: 0.10,
    credibility: 0.10,
    seo: 0.10,
    engagement: 0.10,
    completeness: 0.05
  };

  let total = 0;
  for (const [key, weight] of Object.entries(weights)) {
    total += scores[key] * weight;
  }
  total = Math.round(total);

  // Update counter
  count++;
  localStorage.setItem(COUNTER_KEY, count);
  document.getElementById('counter').textContent = count.toLocaleString();

  // Render results
  renderResults(total, scores, tips);
}

function scoreHeadline(headline, tips) {
  let score = 0;
  const words = headline.split(/\s+/).length;
  const len = headline.length;
  
  // Length scoring (optimal: 60-120 chars)
  if (len >= 60 && len <= 120) score += 30;
  else if (len >= 40 && len <= 160) score += 20;
  else if (len >= 20) score += 10;
  else {
    tips.push({priority:'high',text:'Your headline is too short. Aim for 60-120 characters to maximize visibility and impact.'});
  }

  // Contains value proposition
  const valuePhrases = /help|grow|build|driv|increas|transform|scale|improv|solv|creat|lead|manag|specializ|expert|passion/i;
  if (valuePhrases.test(headline)) score += 20;
  else tips.push({priority:'high',text:'Add a value proposition to your headline. Instead of just your title, explain WHO you help and HOW. Example: "Marketing Director | Helping B2B startups grow 3x through content"'});

  // Contains separator (pipe, dash, bullet)
  if (/[|‚Ä¢¬∑‚Äî‚Äì]/.test(headline)) score += 15;
  else tips.push({priority:'medium',text:'Use separators (|, ‚Ä¢, ‚Äî) to structure your headline into segments. This improves readability and allows you to communicate more.'});

  // Contains specific numbers/results
  if (/\d+[%xX+]|\$\d|million|billion/i.test(headline)) score += 20;
  else tips.push({priority:'medium',text:'Add specific numbers or results to your headline. "Grew revenue 40%" is more compelling than "Grew revenue."'});

  // Not just a job title
  if (words <= 3) {
    score -= 10;
    tips.push({priority:'high',text:'Your headline is just a job title. LinkedIn headlines with context get 40% more profile views. Add your specialty, achievement, or who you serve.'});
  } else {
    score += 15;
  }

  return Math.max(0, Math.min(100, score));
}

function scoreAbout(about, tips) {
  let score = 0;
  const words = about.split(/\s+/).length;
  const len = about.length;
  const sentences = about.split(/[.!?]+/).filter(s => s.trim()).length;
  const paragraphs = about.split(/\n\n+/).filter(p => p.trim()).length;

  // Length (optimal: 200-600 words)
  if (words >= 200 && words <= 600) score += 25;
  else if (words >= 100 && words <= 800) score += 15;
  else if (words >= 50) score += 8;
  else {
    tips.push({priority:'high',text:'Your About section is too short ('+words+' words). Aim for 200-600 words. This is your chance to tell your story and build trust.'});
  }

  // Has paragraphs (readability)
  if (paragraphs >= 3) score += 15;
  else if (paragraphs >= 2) score += 8;
  else tips.push({priority:'medium',text:'Break your About section into 3-5 short paragraphs. Walls of text get skipped. White space = readability.'});

  // Starts with a hook (first 20 chars visible in preview)
  const firstLine = about.split('\n')[0];
  if (firstLine.length >= 20 && /[!?üî•üí°‚ú®‚ö°]|imagine|ever wonder|what if|I help|I\'ve|My mission|Picture this/i.test(firstLine)) {
    score += 20;
  } else {
    tips.push({priority:'high',text:'Your first line is your hook ‚Äî LinkedIn only shows ~3 lines before "see more." Start with a bold statement, question, or story that makes people click.'});
    score += 5;
  }

  // Contains CTA
  if (/reach out|contact|email|connect|message|DM|let\'s talk|book a call|schedule|www\.|\.com|link/i.test(about)) {
    score += 15;
  } else {
    tips.push({priority:'medium',text:'Add a call-to-action at the end of your About. Tell people what to do next: "üìß DM me for..." or "üîó Check out..."'});
  }

  // Contains emoji or formatting
  if (/[‚úÖüî•üí°‚ö°üìßüéØüöÄüí∞üìä‚Ä¢‚Üí‚ñ∫‚ñ∂‚Üí]/u.test(about)) score += 10;
  else tips.push({priority:'low',text:'Consider adding emojis or bullet points (‚úÖ, üî•, ‚Üí) to make your About section scannable and visually engaging.'});

  // Contains achievements/numbers
  if (/\d+[%+]|\$[\d,]+|revenue|clients|projects|years|companies|team/i.test(about)) score += 15;
  else tips.push({priority:'medium',text:'Include specific achievements with numbers in your About. "Managed 50+ projects" and "grew team from 3 to 20" build credibility.'});

  return Math.max(0, Math.min(100, score));
}

function scoreExperience(expCount, jobTitle, tips) {
  let score = 0;

  // Number of entries
  if (expCount >= 4) score += 40;
  else if (expCount >= 2) score += 25;
  else if (expCount >= 1) score += 15;
  else {
    tips.push({priority:'high',text:'Add at least 3-5 experience entries. Even freelance work, internships, or side projects count. More entries = more keywords = more discoverability.'});
  }

  // Job title quality
  const titleWords = jobTitle.split(/\s+/).length;
  if (titleWords >= 2) score += 20;
  if (/senior|director|head|lead|chief|vp|manager|founder|ceo|cto/i.test(jobTitle)) score += 15;
  if (/at |@/.test(jobTitle)) score += 10;
  
  // Penalize vague titles
  if (/^(employee|worker|staff|team member)$/i.test(jobTitle.trim())) {
    score -= 10;
    tips.push({priority:'medium',text:'Your job title is too generic. Use a specific, keyword-rich title. "Marketing Coordinator" beats "Employee." Recruiters search by title.'});
  } else {
    score += 15;
  }

  return Math.max(0, Math.min(100, score));
}

function scoreVisual(features, tips) {
  let score = 0;

  if (features.includes('photo')) score += 50;
  else tips.push({priority:'high',text:'Add a professional profile photo! Profiles with photos get 21x more views and 36x more messages. Use a clear headshot with good lighting.'});

  if (features.includes('banner')) score += 30;
  else tips.push({priority:'high',text:'Add a custom banner image. The default grey banner screams "I don\'t care about my profile." Use Canva to create a branded banner in 5 minutes.'});

  if (features.includes('featured')) score += 20;
  else tips.push({priority:'medium',text:'Add a Featured section to showcase your best work ‚Äî articles, links, media, or posts. It\'s prime real estate right below your About.'});

  return Math.max(0, Math.min(100, score));
}

function scoreCredibility(features, tips) {
  let score = 0;

  if (features.includes('recommendations')) { score += 35; }
  else tips.push({priority:'medium',text:'Get 3-5 recommendations from colleagues, clients, or managers. Recommendations are social proof ‚Äî the #1 trust builder on LinkedIn.'});

  if (features.includes('certifications')) score += 20;
  else tips.push({priority:'low',text:'Add relevant certifications. Even free ones (Google, HubSpot, Coursera) add credibility and keyword discoverability.'});

  if (features.includes('education')) score += 20;
  else tips.push({priority:'medium',text:'Add your education. It helps alumni find you and adds credibility to your profile.'});

  if (features.includes('publications')) score += 15;
  if (features.includes('volunteer')) score += 10;

  return Math.max(0, Math.min(100, score));
}

function scoreSEO(headline, about, features, tips) {
  let score = 0;
  const combined = (headline + ' ' + about).toLowerCase();

  // Industry keywords
  const keywordSets = {
    marketing: ['marketing','growth','seo','content','brand','digital','social media','campaign'],
    tech: ['software','developer','engineer','product','agile','saas','cloud','data'],
    sales: ['sales','revenue','pipeline','closing','b2b','crm','quota','deal'],
    finance: ['finance','investment','portfolio','risk','compliance','audit','financial'],
    design: ['design','ux','ui','creative','brand','figma','visual','user experience'],
  };

  let keywordCount = 0;
  for (const keywords of Object.values(keywordSets)) {
    for (const kw of keywords) {
      if (combined.includes(kw)) keywordCount++;
    }
  }

  if (keywordCount >= 5) score += 35;
  else if (keywordCount >= 3) score += 25;
  else if (keywordCount >= 1) score += 15;
  else tips.push({priority:'high',text:'Your profile lacks industry keywords. Recruiters search by keywords! Naturally include terms for your skills and industry throughout your headline and About.'});

  if (features.includes('skills')) score += 25;
  else tips.push({priority:'high',text:'Add at least 5 skills to your profile. Skills are the #1 factor in LinkedIn search ranking. Get endorsements from connections.'});

  if (features.includes('customUrl')) score += 20;
  else tips.push({priority:'medium',text:'Create a custom LinkedIn URL (linkedin.com/in/yourname). It looks professional on resumes and is better for SEO.'});

  // Headline keyword density
  if (headline.split(/\s+/).length >= 5) score += 20;
  else score += 5;

  return Math.max(0, Math.min(100, score));
}

function scoreEngagement(features, tips) {
  let score = 30; // Base score (we can't detect actual posting)

  if (features.includes('featured')) score += 20;
  if (features.includes('publications')) score += 25;
  if (features.includes('projects')) score += 15;
  if (features.includes('recommendations')) score += 10;

  if (!features.includes('publications') && !features.includes('projects')) {
    tips.push({priority:'low',text:'Start publishing on LinkedIn! Even 1 post/week dramatically increases profile views. Articles and posts show in your Featured section and build authority.'});
  }

  return Math.max(0, Math.min(100, score));
}

function scoreCompleteness(features, expCount, headline, about, tips) {
  let score = 0;
  const totalPossible = 14; // 12 features + headline + about
  let filled = features.length;
  if (headline.length > 20) filled++;
  if (about.split(/\s+/).length > 50) filled++;

  const pct = filled / totalPossible;
  score = Math.round(pct * 100);

  if (features.includes('languages')) score = Math.min(100, score + 5);

  if (pct < 0.5) {
    tips.push({priority:'medium',text:'Your profile is less than 50% complete. LinkedIn\'s algorithm favors complete profiles ‚Äî fill in every section you can for maximum visibility.'});
  }

  return Math.max(0, Math.min(100, score));
}

// ===================== RENDER RESULTS =====================
function renderResults(total, scores, tips) {
  document.getElementById('formCard').style.display = 'none';
  const resultsEl = document.getElementById('results');
  resultsEl.classList.add('show');

  // Scroll to top
  window.scrollTo({top: 0, behavior: 'smooth'});

  // Score circle animation
  const circle = document.getElementById('scoreCircle');
  const circumference = 2 * Math.PI * 80; // 502.65
  const offset = circumference - (total / 100) * circumference;
  
  // Set color based on score
  const color = total >= 80 ? 'var(--green)' : total >= 60 ? 'var(--cyan)' : total >= 40 ? 'var(--yellow)' : total >= 20 ? 'var(--orange)' : 'var(--red)';
  circle.style.stroke = color;
  
  setTimeout(() => {
    circle.style.strokeDashoffset = offset;
  }, 100);

  // Animate number
  animateNumber('scoreNum', 0, total, 1500);

  // Grade
  const grade = total >= 90 ? 'A' : total >= 80 ? 'A-' : total >= 70 ? 'B+' : total >= 60 ? 'B' : total >= 50 ? 'C+' : total >= 40 ? 'C' : total >= 30 ? 'D' : 'F';
  const gradeClass = grade.startsWith('A') ? 'A' : grade.startsWith('B') ? 'B' : grade.startsWith('C') ? 'C' : grade.startsWith('D') ? 'D' : 'F';
  const gradeBadge = document.getElementById('gradeBadge');
  gradeBadge.textContent = grade;
  gradeBadge.className = `grade-badge grade-${gradeClass}`;

  // Summary
  const summaries = {
    A: "üèÜ Outstanding! Your LinkedIn profile is in the top tier. You're maximizing your professional brand.",
    B: "üí™ Strong profile! A few optimizations could push you into the A-tier and dramatically increase your visibility.",
    C: "üìà Decent foundation, but there's significant room for improvement. Follow the tips below to level up.",
    D: "‚ö†Ô∏è Your profile needs work. You're likely invisible to recruiters and missing opportunities. Start with the high-priority tips.",
    F: "üö® Critical ‚Äî your profile is severely under-optimized. But the good news? Every fix below will make a big impact."
  };
  document.getElementById('scoreSummary').textContent = summaries[gradeClass];

  // Categories
  const catNames = {
    headline: {icon: 'üìù', name: 'Headline Power', weight: '20%'},
    about: {icon: 'üìñ', name: 'About Section', weight: '20%'},
    experience: {icon: 'üíº', name: 'Experience', weight: '15%'},
    visual: {icon: 'üé®', name: 'Visual Appeal', weight: '10%'},
    credibility: {icon: '‚≠ê', name: 'Credibility', weight: '10%'},
    seo: {icon: 'üîç', name: 'Discoverability', weight: '10%'},
    engagement: {icon: 'üì¢', name: 'Engagement', weight: '10%'},
    completeness: {icon: '‚úÖ', name: 'Completeness', weight: '5%'}
  };

  const catsHtml = Object.entries(scores).map(([key, score]) => {
    const cat = catNames[key];
    const color = score >= 80 ? 'var(--green)' : score >= 60 ? 'var(--cyan)' : score >= 40 ? 'var(--yellow)' : score >= 20 ? 'var(--orange)' : 'var(--red)';
    const scoreColor = score >= 80 ? 'rgba(34,197,94,.2)' : score >= 60 ? 'rgba(6,182,212,.2)' : score >= 40 ? 'rgba(234,179,8,.2)' : score >= 20 ? 'rgba(249,115,22,.2)' : 'rgba(239,68,68,.2)';
    const relTip = tips.find(t => {
      const catKeywords = {
        headline: /headline/i, about: /about|summary|first line|paragraph/i,
        experience: /experience|job title|entries/i, visual: /photo|banner|featured/i,
        credibility: /recommend|certif|education|publication/i,
        seo: /keyword|skills|custom url|search/i, engagement: /publish|post|article/i,
        completeness: /complete|fill/i
      };
      return catKeywords[key] && catKeywords[key].test(t.text);
    });
    
    return `<div class="cat-item">
      <div class="cat-header">
        <div class="cat-name">${cat.icon} ${cat.name} <span style="font-size:.7rem;color:var(--text2);font-weight:400">(${cat.weight})</span></div>
        <div class="cat-score" style="background:${scoreColor};color:${color}">${score}/100</div>
      </div>
      <div class="cat-bar"><div class="cat-bar-fill" style="width:${score}%;background:${color}"></div></div>
      ${relTip ? `<div class="cat-tip">üí° ${relTip.text}</div>` : ''}
    </div>`;
  }).join('');
  document.getElementById('categories').innerHTML = catsHtml;

  // Tips (sorted by priority)
  const priorityOrder = {high: 0, medium: 1, low: 2};
  tips.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);
  
  const tipsHtml = tips.slice(0, 8).map(tip => `
    <div class="tip-card ${tip.priority}">
      <div class="tip-priority ${tip.priority}">${tip.priority === 'high' ? 'üî¥ High Priority' : tip.priority === 'medium' ? 'üü° Medium Priority' : 'üü¢ Nice to Have'}</div>
      <div class="tip-text">${tip.text}</div>
    </div>
  `).join('');
  document.getElementById('tips').innerHTML = tipsHtml;

  // Share buttons
  const shareText = `I just scored ${total}/100 (${grade}) on my LinkedIn profile! üìä Check yours: `;
  const shareUrl = 'https://jinstronda.github.io/linkedin-profile-scorer/';
  
  document.getElementById('tweetBtn').href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
  document.getElementById('linkedinBtn').href = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`;

  // Confetti for high scores
  if (total >= 75) launchConfetti();
}

function animateNumber(id, start, end, duration) {
  const el = document.getElementById(id);
  const range = end - start;
  const startTime = performance.now();
  
  function update(currentTime) {
    const elapsed = currentTime - startTime;
    const progress = Math.min(elapsed / duration, 1);
    const eased = 1 - Math.pow(1 - progress, 3); // easeOutCubic
    el.textContent = Math.round(start + range * eased);
    if (progress < 1) requestAnimationFrame(update);
  }
  requestAnimationFrame(update);
}

// ===================== CONFETTI =====================
function launchConfetti() {
  const container = document.createElement('div');
  container.className = 'confetti-container';
  document.body.appendChild(container);
  
  const colors = ['#7c5cfc','#ec4899','#f97316','#22c55e','#06b6d4','#eab308'];
  
  for (let i = 0; i < 50; i++) {
    const confetti = document.createElement('div');
    confetti.className = 'confetti';
    confetti.style.left = Math.random() * 100 + '%';
    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.animationDelay = Math.random() * 2 + 's';
    confetti.style.animationDuration = (2 + Math.random() * 2) + 's';
    confetti.style.width = (4 + Math.random() * 8) + 'px';
    confetti.style.height = (4 + Math.random() * 8) + 'px';
    container.appendChild(confetti);
  }
  
  setTimeout(() => container.remove(), 5000);
}

// ===================== EMAIL CAPTURE =====================
function captureEmail() {
  const email = document.getElementById('emailInput').value.trim();
  if (!email || !email.includes('@')) {
    alert('Please enter a valid email address.');
    return;
  }
  
  // In production, this would POST to a backend/Mailchimp/ConvertKit
  // For now, store locally and show success
  const leads = JSON.parse(localStorage.getItem('pp_leads') || '[]');
  leads.push({email, timestamp: new Date().toISOString(), source: 'profilepulse'});
  localStorage.setItem('pp_leads', JSON.stringify(leads));
  
  document.getElementById('emailSuccess').style.display = 'block';
  document.querySelector('.email-row').style.display = 'none';
  
  // Track conversion
  console.log('Lead captured:', email);
}

// ===================== COPY LINK =====================
function copyLink() {
  const url = 'https://jinstronda.github.io/linkedin-profile-scorer/';
  navigator.clipboard.writeText(url).then(() => {
    const btn = document.querySelector('.share-btn.copy');
    btn.textContent = '‚úÖ Copied!';
    setTimeout(() => btn.innerHTML = 'üìã Copy Link', 2000);
  });
}

// ===================== RESET =====================
function resetForm() {
  document.getElementById('results').classList.remove('show');
  document.getElementById('results').style.display = '';
  document.getElementById('formCard').style.display = '';
  document.getElementById('headline').value = '';
  document.getElementById('about').value = '';
  document.getElementById('jobTitle').value = '';
  document.getElementById('headlineCount').textContent = '0';
  document.getElementById('aboutCount').textContent = '0';
  document.querySelectorAll('.chip.active').forEach(c => c.classList.remove('active'));
  document.getElementById('emailSuccess').style.display = 'none';
  document.querySelector('.email-row').style.display = '';
  document.getElementById('emailInput').value = '';
  window.scrollTo({top: 0, behavior: 'smooth'});
}

// ===================== ENTER KEY =====================
document.addEventListener('keydown', e => {
  if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
    e.preventDefault();
    if (document.getElementById('formCard').style.display !== 'none') {
      scoreProfile();
    }
  }
});
</script>
</body>
</html>
